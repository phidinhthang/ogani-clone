const initialLocalStorage=()=>(localStorage.setItem("allProducts","[]"),getProducts()),getProducts=()=>JSON.parse(localStorage.getItem("allProducts"));let allProducts=getProducts()?getProducts():initialLocalStorage();window.addEventListener("load",()=>{$(".preloader-wrapper").addClass("preloader-finish")});const setup=()=>{let e=window.innerWidth;$(window).resize(updateSize),handleResponsive(e),handleToggleSidebar(),initialSlickNav(),$("select").niceSelect(),handleLocalStorage()};$(document).ready(setup);const updateSize=e=>{width=window.innerWidth,handleResponsive(width)},handleResponsive=e=>{e<992?($(".header__bottom").innerHeight(130),$(".sidebar").css("display","block")):($(".header__bottom").innerHeight(80),$(".sidebar").css("display","none"))},handleToggleSidebar=()=>{$(".header__bottom .toggle").click(()=>{$(".sidebar").addClass("open"),$(".sidebar__menu").css("transform","translateX(0px)")}),$(".sidebar__overlay").click(()=>{$(".sidebar__menu").css("transform","translateX(-300px)"),setTimeout(()=>{$(".sidebar").removeClass("open")},300)})},initialSlickNav=()=>{$("#sub__dropdown > a").click(function(){$("#sub__dropdown__menu").slicknav("toggle")}),$(function(){$("#sub__dropdown__menu").slicknav({label:"",appendTo:"#sub__dropdown",beforeOpen:function(){$(".slicknav_arrow").text("▼")},beforeClose:function(){$(".slicknav_arrow").text("►")}})}),$("#banner__categories__label > a").click(function(){$("#banner__categories__list").slicknav("toggle")}),$(function(){$("#banner__categories__list").slicknav({label:"",appendTo:"#banner__categories"})})},handleLocalStorage=()=>{$('[data-id="amount"]').text(allProducts.length),updatePrice(),console.log(allProducts),$(".add-to-cart").on("click",addToCart)};function addToCart(e){const t=$(this).parent().parent().parent().find("h4").text(),a=parseFloat($(this).parent().parent().parent().find("p").text().replace("$","")),n=$(this).parent().parent().parent().find("img").attr("src"),o={name:t,price:a,amount:1,image:n};let r=!1;allProducts.forEach(e=>{e.name==t&&(r=!0)}),r?allProducts.filter(e=>e.name==t)[0].amount++:(allProducts.push(o),$('[data-id="amount"]').text(allProducts.length)),localStorage.setItem("allProducts",JSON.stringify(allProducts)),updatePrice()}const updatePrice=()=>{if(allProducts.length){let e=allProducts.reduce((e,t)=>e+t.price*t.amount,0);e=(Math.round(100*e)/100).toFixed(2),$('[data-id="price"]').text(`$${e}`)}};