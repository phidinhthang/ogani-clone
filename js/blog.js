const initialLocalStorage=()=>(localStorage.setItem("allProducts","[]"),getProducts()),getProducts=()=>JSON.parse(localStorage.getItem("allProducts"));let allProducts=getProducts()?getProducts():initialLocalStorage();window.addEventListener("load",()=>{$(".preloader-wrapper").addClass("preloader-finish")});const setup=()=>{let t=window.innerWidth;$(window).resize(updateSize),handleResponsive(t),handleToggleSidebar(),initialSlickNav(),initialCarousel(),$("select").niceSelect(),toggleButtonFilter(),handleLocalStorage()};$(document).ready(setup);const updateSize=t=>{width=window.innerWidth,handleResponsive(width)},handleResponsive=t=>{t<992?($(".header__bottom").innerHeight(130),$(".sidebar").css("display","block")):($(".header__bottom").innerHeight(80),$(".sidebar").css("display","none"))},handleToggleSidebar=()=>{$(".header__bottom .toggle").click(()=>{$(".sidebar").addClass("open"),$(".sidebar__menu").css("transform","translateX(0px)")}),$(".sidebar__overlay").click(()=>{$(".sidebar__menu").css("transform","translateX(-300px)"),setTimeout(()=>{$(".sidebar").removeClass("open")},300)})},initialSlickNav=()=>{$("#sub__dropdown > a").click(function(){$("#sub__dropdown__menu").slicknav("toggle")}),$(function(){$("#sub__dropdown__menu").slicknav({label:"",appendTo:"#sub__dropdown",beforeOpen:function(){$(".slicknav_arrow").text("▼")},beforeClose:function(){$(".slicknav_arrow").text("►")}})}),$("#banner__categories__label > a").click(function(){$("#banner__categories__list").slicknav("toggle")}),$(function(){$("#banner__categories__list").slicknav({label:"",appendTo:"#banner__categories"})})},initialCarousel=()=>{$(".sale .owl-carousel").owlCarousel({loop:!0,autoplay:!0,autoplaySpeed:1500,items:1,dots:!0,margin:30,responsive:{576:{items:2,loop:!0},992:{items:3,loop:!0}}}),$(".lastest-product .owl-carousel").owlCarousel({loop:!0,nav:!0,autoplay:!0,autoplaySpeed:1500,items:1,dots:!1,navText:["<button class='owl-control-prev'><i class='fa fa-chevron-left'></i></button>","<button class='owl-control-next'><i class='fa fa-chevron-right'></i></button>"]})},initialMixItUp=()=>{mixitup(".featured__list",{selectors:{target:".mix"},animation:{duration:300}})},toggleButtonFilter=()=>{$(".featured__list__control__group button").click(t=>{$(".featured__list__control__group button").removeClass("active"),$(t.target).addClass("active")})},handleLocalStorage=()=>{$('[data-id="amount"]').text(allProducts.length),updatePrice(),console.log(allProducts),$(".add-to-cart").on("click",addToCart)};function addToCart(t){const e=$(this).parent().parent().parent().find("h4").text(),a=parseFloat($(this).parent().parent().parent().find("p").text().replace("$","")),o=$(this).parent().parent().parent().find("img").attr("src"),l={name:e,price:a,amount:1,image:o};let n=!1;allProducts.forEach(t=>{t.name==e&&(n=!0)}),n?allProducts.filter(t=>t.name==e)[0].amount++:(allProducts.push(l),$('[data-id="amount"]').text(allProducts.length)),localStorage.setItem("allProducts",JSON.stringify(allProducts)),updatePrice()}const updatePrice=()=>{if(allProducts.length){let t=allProducts.reduce((t,e)=>t+e.price*e.amount,0);t=(Math.round(100*t)/100).toFixed(2),$('[data-id="price"]').text(`$${t}`)}},initialSlider=()=>{var t=document.getElementById("slider");noUiSlider.create(t,{start:[10,540],connect:!0,range:{min:10,max:540}}),t.noUiSlider.on("update",function(e,a){let[o,l]=t.noUiSlider.get();o=Math.round(o),l=Math.round(l),$(".first").text(`$${o}`),$(".second").text(`$${l}`)})};